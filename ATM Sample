/*

PseudoCode :

1 - Kullanıcı adını gir. +
2 - Eğer kullanıcı adı doğruysa Şifre ekranına yönlendir. Değilse Tekrar Dene. +
3 - Şifreni Gir. +
4 - Eğer şifre doğruysa hesap detaylarına git. Değilse tekrar dene. (3 deneme hakkı var.) +
5 - Yatırılacak tutarı gir. (Alt limit : 10 - Üst limit : 5000)
6 - Parayı yatır.
7 - Eğer yatırılacak tutar değeri ile yatırılan tutar değeri eşitse para yatırıldı. Değilse Tekrar Dene.
8 - Bakiye Öğren.
9 - Para çekmek için tutar gir. (Üst Limit : 2000)

*/


#include <iostream>
#include <locale.h>
using namespace std;

static int bakiye;
static int hesapNo = 44;
static int sifre = 55;

int paraYatir(int yatirilacakTutar,int yatirilanTutar)
{
	while(yatirilacakTutar != yatirilanTutar)
	{
		cout << "Yatırılacak tutar ile yatırılan tutar eşleşmiyor.";
	}

	if (yatirilacakTutar == yatirilanTutar)
	{
		bakiye = bakiye + yatirilanTutar;
		cout << "Para Yatırma İşlemi Başarılı...\nToplam Bakiye : " << bakiye;
	}
	return (0);
}

int paraCek(int cekilecekTutar)
{
	while (bakiye <= cekilecekTutar)
	{
		cout << "Bakiyeniz Yetersizdir. Bakiyeniz : " << bakiye;
	}

	if (bakiye >= cekilecekTutar)
	{
		bakiye = bakiye - cekilecekTutar;
		cout << "Para Çekme İşlemi Başarılı.\nÇekilen Tutar : " << cekilecekTutar << "\nKalan Bakiye : " << bakiye;
	}

	return (0);
}

int secenekSec(int secenekGiris)
{
	switch (secenekGiris)
	{
	case 1:
		int yatirilacak;
		cout << "Yatırılacak Tutarı Girin : ";
		cin >> yatirilacak;

		int yatirilan;
		cout << "Yatırılan Tutar Girin : ";
		cin >> yatirilan;
		paraYatir(yatirilacak, yatirilan);
	case 2:
		int cekilecek;
		cout << "Çekilecek Tutar Girin : ";
		cin >> cekilecek;
		paraCek(cekilecek);
	default:
		break;
	}
	return (0);
}

void bakiyeGoster() 
{
	cout << bakiye;
}

void cikisYap()
{
	exit(0);
}

int main() {

	setlocale(LC_ALL, "Turkish"); // Türkçe Karakter Set

	/*********************************************** Kullanıcı Girişi Başlangıç ***********************************************/ 

	int hesapNumarasi, parola;

	cout << "Hesap Numaranı Gir : ";
	cin >> hesapNumarasi;
	
	
	while (hesapNumarasi != hesapNo) // Hesap numarası doğru girilene kadar döngü çalışır.
	{
		cout << "Tekrar Dene (Hesap Numarası) : ";
		cin >> hesapNumarasi;
	}

	if (hesapNumarasi == hesapNo) // Eğer hesap numarası doğru girilmişse şifre girişine yönlendir.
	{
		cout << "Şifreni Gir : ";
		cin >> parola;
	}

	if (parola == sifre) // Eğer şifre doğru ise giriş başarılı
	{
		while (secenekSec(4) != 4)
		{
			cout << "Giriş Başarılı. Yapacağınız İşlemi Seçin..." << endl;
			cout << "1 - Para Yatır \n2 - Para Çek \n3 - Bakiye Göster \n4 - Çıkış Yap \nSeçim Yap : ";
			int sec;
			cin >> sec;
			secenekSec(sec);
		}
	}
	else // Değilse tekrar denemek için 3 hak daha verir.
	{
		for (int i = 1; i < 5; i++)
		{
			if (i < 4)
			{
				if (parola == sifre)
				{
					while (secenekSec(4) != 4)
					{
						cout << "Giriş Başarılı. Yapacağınız İşlemi Seçin..." << endl;
						cout << "1 - Para Yatır \n2 - Para Çek \n3 - Bakiye Göster \n4 - Çıkış Yap \nSeçim Yap : ";
						int sec;
						cin >> sec;
						secenekSec(sec);
					}
				}
				else
				{
					cout << "Tekrar Dene " << "( " << i << ".Deneme ) : ";
					cin >> parola;
				}
			}
			else
			{
				cout << "Birçok kez yanlış şifre girdin. Daha sonra Tekrar Dene...";
			}
		}
	}

	/*********************************************** Kullanıcı Girişi Bitiş ***********************************************/
}
